---
title: MastodonProvider
editUrl: https://github.com/stylings/openauth/blob/master/packages/openauth/src/provider/mastodon.ts
description: Reference doc for the `MastodonProvider`.
---

import {
  Segment,
  Section,
  NestedTitle,
  InlineSection,
} from "toolbeam-docs-theme/components"
import { Tabs, TabItem } from "@astrojs/starlight/components"

<div class="tsdoc">
<Section type="about">
Use this provider to authenticate with Mastodon.

```ts {5-8}
import { MastodonProvider } from "@openauthjs/openauth/provider/mastodon"

export default issuer({
  providers: {
    mastodon: MastodonProvider({
      clientID: "1234567890",
      clientSecret: "0987654321",
    }),
  },
})
```

You can also connect to a specific Mastodon instance by specifying the `instance` option:

```ts {5-9}
import { MastodonProvider } from "@openauthjs/openauth/provider/mastodon"

export default issuer({
  providers: {
    mastodon: MastodonProvider({
      clientID: "1234567890",
      clientSecret: "0987654321",
      instance: "hachyderm.io",
    }),
  },
})
```

## </Section>

## Methods

### MastodonProvider

<Segment>
<Section type="signature">
```ts
MastodonProvider(config)
```
</Section>
<Section type="parameters">
#### Parameters
- <p><code class="key">config</code> [<code class="type">MastodonConfig</code>](/docs/provider/mastodon#mastodonconfig)</p>
The config for the provider.
</Section>
<InlineSection>
**Returns** <code class="type">Provider</code>
</InlineSection>
Create a Mastodon OAuth2 provider.
```ts
MastodonProvider({
  clientID: "1234567890",
  clientSecret: "0987654321"
})
```
</Segment>
## MastodonConfig
<Segment>
<Section type="parameters">
- <p>[<code class="key">clientID</code>](#mastodonconfig.clientid) <code class="primitive">string</code></p>
- <p>[<code class="key">clientSecret</code>](#mastodonconfig.clientsecret) <code class="primitive">string</code></p>
- <p>[<code class="key">instance?</code>](#mastodonconfig.instance) <code class="primitive">string</code></p>
- <p>[<code class="key">pkce?</code>](#mastodonconfig.pkce) <code class="primitive">boolean</code></p>
- <p>[<code class="key">query?</code>](#mastodonconfig.query) <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">string</code><code class="symbol">&gt;</code></p>
- <p>[<code class="key">scopes</code>](#mastodonconfig.scopes) <code class="primitive">string</code><code class="symbol">[]</code></p>
</Section>
</Segment>
<NestedTitle id="mastodonconfig.clientid" Tag="h4" parent="MastodonConfig.">clientID</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
The client ID.

This is just a string to identify your app.

```ts
{
  clientID: "my-client"
}
```

</Segment>
<NestedTitle id="mastodonconfig.clientsecret" Tag="h4" parent="MastodonConfig.">clientSecret</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
The client secret.

This is a private key that's used to authenticate your app. It should be kept secret.

```ts
{
  clientSecret: "0987654321"
}
```

</Segment>
<NestedTitle id="mastodonconfig.instance" Tag="h4" parent="MastodonConfig.">instance?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>

<InlineSection>**Default** `mastodon.social`</InlineSection>
The hostname of the Mastodon instance.

By default, this is set to `mastodon.social`.

```ts
{
  instance: "hachyderm.io"
}
```

</Segment>
<NestedTitle id="mastodonconfig.pkce" Tag="h4" parent="MastodonConfig.">pkce?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>

<InlineSection>
**Default** false
</InlineSection>
Whether to use PKCE (Proof Key for Code Exchange) for the authorization code flow.
Some providers like x.com require this.
</Segment>
<NestedTitle id="mastodonconfig.query" Tag="h4" parent="MastodonConfig.">query?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Any additional parameters that you want to pass to the authorization endpoint.
```ts
{
  query: {
    access_type: "offline",
    prompt: "consent"
  }
}
```
</Segment>
<NestedTitle id="mastodonconfig.scopes" Tag="h4" parent="MastodonConfig.">scopes</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
A list of OAuth scopes that you want to request.
```ts
{
  scopes: ["email", "profile"]
}
```
</Segment>
</div>
